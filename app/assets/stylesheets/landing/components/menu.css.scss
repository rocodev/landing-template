@import "../variables";
@import "compass/css3/border-radius";
@import "compass/css3/transition";
@import "compass/css3/box-sizing";

%menu-item-hover {
  color: $menu-fg-color;
  background-color: $menu-hover-bg-color;
}
%menu-item {
  color: $menu-fg-color;
  line-height: $menu-height;
  text-decoration: none;
  padding: 0 $menu-padding;
  @include transition(150ms);

  &:hover, &:focus {
    @extend %menu-item-hover;
  }
}

.landing-menu {
  width: 100%;
  height: $menu-height;
  background-color: $menu-bg-color;
  line-height: $menu-height;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100;
  -webkit-font-smoothing: subpixel-antialiased;
  @include box-sizing(border-box);
  @include transition-property(height line-height);
  @include transition-duration(150ms);

  .brand {
    @extend %menu-item;
    font-size: 28px;
    margin-left: -$menu-padding;
  }

  .menu-toggle {
    @extend %menu-item;

    width: ($menu-padding * 3.2);
    height: 70px;
    background: none;
    color: $menu-fg-color;
    border: none;
    margin-right: -$menu-padding;
    position: relative;
    display: none;

    &:before {
      width: $menu-padding * 1.2;
      height: 3px;
      background-color: $menu-fg-color;
      content: '';
      display: block;
      position: absolute;
      top: percentage(24px / 70px);
      left: $menu-padding;

      box-shadow:
        0 8px 0 $menu-fg-color,
        0 16px 0 $menu-fg-color;
    }
  }

  .nav-pills {
    &:last-child {
      margin-right: -$menu-padding;
    }

    & > li > a {
      @extend %menu-item;
    }
    & > li {
      position: relative;
      z-index: 5;
    }
    & > li.active {
      z-index: 1;

      & > a:hover, & > a:focus {
        background-color: $link-color;
      }
    }

    a {
      font-size: 20px;
      font-weight: 300;
      margin: 0 0 0 ($menu-padding * -0.5);
      @include border-radius(0);
    }
  }
}

.landing-menu.affix {
  height: $menu-height-small;
  line-height: $menu-height-small;

  .brand,
  .nav-pills > li > a {
    line-height: $menu-height-small;
  }
}

// Responsive Menu
@media (max-width: 600px) {
  .landing-menu {
    .menu-toggle {
      display: block;
      float: right;
    }
  }
}
